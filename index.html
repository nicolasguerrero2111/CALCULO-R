<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Solución de Ecuaciones</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f0f0f0; }
    input { margin: 5px; padding: 5px; }
    button { padding: 8px 12px; }
    #resultado { margin-top: 15px; }
  </style>
</head>
<body>

<h2>Resolución de Ecuaciones Lineales y Cuadráticas</h2>
<p>Forma general: <strong>ax² + bx + c = 0</strong></p>

<label>a: <input type="number" id="a" value="1"></label>
<label>b: <input type="number" id="b" value="-2"></label>
<label>c: <input type="number" id="c" value="-3"></label>
<button onclick="resolverEcuacion()">Resolver y Graficar</button>

<div id="resultado"></div>
<div id="grafica" style="width: 100%; height: 500px;"></div>

<script>
function resolverEcuacion() {
  const a = parseFloat(document.getElementById("a").value);
  const b = parseFloat(document.getElementById("b").value);
  const c = parseFloat(document.getElementById("c").value);

  const x = [];
  const y = [];
  for (let i = -20; i <= 20; i += 0.1) {
    x.push(i);
    y.push(a * i * i + b * i + c);
  }

  const rangoMin = Math.min(...y).toFixed(2);
  const rangoMax = Math.max(...y).toFixed(2);
  const dominio = "[-20, 20]";
  const rango = `[${rangoMin}, ${rangoMax}]`;

  let solucion = "";
  if (a === 0) {
    if (b !== 0) {
      const raiz = (-c / b).toFixed(2);
      solucion = `Ecuación Lineal<br>Raíz: x = ${raiz}`;
    } else {
      solucion = c === 0 ? "La ecuación tiene infinitas soluciones" : "La ecuación no tiene solución";
    }
  } else {
    const discriminante = b * b - 4 * a * c;
    if (discriminante > 0) {
      const raiz1 = ((-b + Math.sqrt(discriminante)) / (2 * a)).toFixed(2);
      const raiz2 = ((-b - Math.sqrt(discriminante)) / (2 * a)).toFixed(2);
      solucion = `Ecuación Cuadrática<br>Raíces reales: x = ${raiz1}, x = ${raiz2}`;
    } else if (discriminante === 0) {
      const raiz = (-b / (2 * a)).toFixed(2);
      solucion = `Ecuación Cuadrática<br>Raíz doble: x = ${raiz}`;
    } else {
      solucion = `Ecuación Cuadrática<br>No tiene soluciones reales`;
    }
  }

  document.getElementById("resultado").innerHTML = `
    <h3>Resultado</h3>
    <p>${solucion}</p>
    <p><strong>Dominio:</strong> ${dominio}</p>
    <p><strong>Rango:</strong> ${rango}</p>
  `;

  Plotly.newPlot("grafica", [{
    x: x,
    y: y,
    type: "scatter",
    mode: "lines",
    line: { color: "blue" },
    name: "f(x)"
  }], {
    title: "Gráfica de la función",
    xaxis: { title: "x", range: [-20, 20] },
    yaxis: { title: "f(x)", range: [parseFloat(rangoMin)-5, parseFloat(rangoMax)+5] },
    plot_bgcolor: "#fff",
    paper_bgcolor: "#fff"
  });
}
</script>

</body>
</html>
