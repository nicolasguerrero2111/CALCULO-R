<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Solucionador de Ecuaciones con Voz</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f4f4f4; }
    input, button { margin: 5px; padding: 8px; }
    button { cursor: pointer; }
    #resultado { margin-top: 20px; background-color: #fff; padding: 15px; border-radius: 8px; }
  </style>
</head>
<body>

<h2>üìà Solucionador de Ecuaciones con Bot de Voz</h2>
<p>Introduce los coeficientes de la ecuaci√≥n: <strong>ax¬≤ + bx + c = 0</strong></p>

<label>a: <input type="number" id="a" value="1"></label>
<label>b: <input type="number" id="b" value="-2"></label>
<label>c: <input type="number" id="c" value="-3"></label>
<button onclick="resolverEcuacion()">Resolver y Graficar</button>

<div id="resultado"></div>
<div id="grafica" style="width: 100%; height: 500px;"></div>

<script>
function hablar(texto) {
  const voz = new SpeechSynthesisUtterance(texto);
  voz.lang = "es-ES"; // Espa√±ol
  voz.pitch = 1.1;
  voz.rate = 1;
  speechSynthesis.speak(voz);
}

function resolverEcuacion() {
  const a = parseFloat(document.getElementById("a").value);
  const b = parseFloat(document.getElementById("b").value);
  const c = parseFloat(document.getElementById("c").value);

  const x = [];
  const y = [];
  for (let i = -20; i <= 20; i += 0.1) {
    x.push(i);
    y.push(a * i * i + b * i + c);
  }

  const rangoMin = Math.min(...y).toFixed(2);
  const rangoMax = Math.max(...y).toFixed(2);
  const dominio = "[-20, 20]";
  const rango = `[${rangoMin}, ${rangoMax}]`;

  let solucionTexto = "";
  let textoBot = "";

  if (a === 0) {
    if (b !== 0) {
      const raiz = (-c / b).toFixed(2);
      solucionTexto = `Ecuaci√≥n Lineal<br>Ra√≠z: x = ${raiz}`;
      textoBot = `La ecuaci√≥n es lineal. Su ra√≠z es ${raiz}.`;
    } else {
      solucionTexto = c === 0
        ? "La ecuaci√≥n tiene infinitas soluciones"
        : "La ecuaci√≥n no tiene soluci√≥n";
      textoBot = solucionTexto;
    }
  } else {
    const discriminante = b * b - 4 * a * c;
    if (discriminante > 0) {
      const raiz1 = ((-b + Math.sqrt(discriminante)) / (2 * a)).toFixed(2);
      const raiz2 = ((-b - Math.sqrt(discriminante)) / (2 * a)).toFixed(2);
      solucionTexto = `Ecuaci√≥n Cuadr√°tica<br>Ra√≠ces reales: x = ${raiz1}, x = ${raiz2}`;
      textoBot = `La ecuaci√≥n es cuadr√°tica. Tiene dos soluciones reales: ${raiz1} y ${raiz2}.`;
    } else if (discriminante === 0) {
      const raiz = (-b / (2 * a)).toFixed(2);
      solucionTexto = `Ecuaci√≥n Cuadr√°tica<br>Ra√≠z doble: x = ${raiz}`;
      textoBot = `La ecuaci√≥n es cuadr√°tica. Tiene una ra√≠z doble: ${raiz}.`;
    } else {
      solucionTexto = `Ecuaci√≥n Cuadr√°tica<br>No tiene soluciones reales`;
      textoBot = `La ecuaci√≥n cuadr√°tica no tiene soluciones reales.`;
    }
  }

  const infoExtra = `El dominio es de menos veinte a veinte. El rango va de ${rangoMin} hasta ${rangoMax}.`;
  hablar(textoBot + " " + infoExtra);

  document.getElementById("resultado").innerHTML = `
    <h3>Resultado</h3>
    <p>${solucionTexto}</p>
    <p><strong>Dominio:</strong> ${dominio}</p>
    <p><strong>Rango:</strong> ${rango}</p>
    <p>üó£Ô∏è El bot ha le√≠do esta informaci√≥n en voz alta.</p>
  `;

  Plotly.newPlot("grafica", [{
    x: x,
    y: y,
    type: "scatter",
    mode: "lines",
    line: { color: "blue" },
    name: "f(x)"
  }], {
    title: "Gr√°fica de la funci√≥n",
    xaxis: { title: "x", range: [-20, 20] },
    yaxis: { title: "f(x)", range: [parseFloat(rangoMin) - 5, parseFloat(rangoMax) + 5] },
    plot_bgcolor: "#fff",
    paper_bgcolor: "#fff"
  });
}
</script>

</body>
</html>

